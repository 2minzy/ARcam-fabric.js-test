{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/test/FacingMode.vue","webpack:///./src/test/FacingMode.vue?1379","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","this","arguments","length","undefined","id","playsinline","autoplay","href","title","setup","props","facingMode","videoElement","document","querySelector","audioInputSelect","audioOutputSelect","videoSelect","selectors","gotDevices","deviceInfos","values","map","select","value","firstChild","removeChild","i","deviceInfo","option","createElement","deviceId","kind","text","label","appendChild","console","log","selectorIndex","Array","slice","call","childNodes","some","n","attachSinkId","element","sinkId","setSinkId","then","catch","errorMessage","name","selectedIndex","warn","changeAudioDestination","audioDestination","gotStream","stream","window","srcObject","navigator","mediaDevices","enumerateDevices","handleError","message","start","getTracks","track","stop","audioSource","videoSource","constraints","audio","exact","video","getUserMedia","disabled","HTMLMediaElement","onchange","render","fails","METHOD_NAME","argument","method","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced"],"mappings":"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","file":"js/chunk-771fe318.4b7b25cd.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","<template>\n  <div id=\"container\">\n\n      <h1><a href=\"//webrtc.github.io/samples/\" title=\"WebRTC samples homepage\">WebRTC samples</a><span>Select sources &amp; outputs</span>\n      </h1>\n\n      <p>Get available audio, video sources and audio output devices from <code>mediaDevices.enumerateDevices()</code>\n          then set the source for <code>getUserMedia()</code> using a <code>deviceId</code> constraint.</p>\n      <p><b>Note:</b> without permission, the browser will restrict the available devices to at most one per type.</p>\n\n      <div class=\"select\">\n          <label for=\"audioSource\">Audio input source: </label><select id=\"audioSource\"></select>\n      </div>\n\n      <div class=\"select\">\n          <label for=\"audioOutput\">Audio output destination: </label><select id=\"audioOutput\"></select>\n      </div>\n\n      <div class=\"select\">\n          <label for=\"videoSource\">Video source: </label><select id=\"videoSource\"></select>\n      </div>\n\n      <video id=\"video\" playsinline autoplay></video>\n\n      <p><b>Note:</b> If you hear a reverb sound your microphone is picking up the output of your\n          speakers/headset, lower the volume and/or move the microphone further away from your speakers/headset.</p>\n\n      <a href=\"https://github.com/webrtc/samples/tree/gh-pages/src/content/devices/input-output\"\n        title=\"View source for this page on GitHub\" id=\"viewSource\">View source on GitHub</a>\n  </div>\n</template>\n\n<script>\nimport * as $ from \"fxdom\";\nimport * as _ from \"fxjs\";\nimport { reactive, useStore, onMounted } from \"@/helper/vue.js\";\nexport default {\n  setup(props) {\n    const facingMode = () => {\n      const videoElement = document.querySelector('video');\n      const audioInputSelect = document.querySelector('select#audioSource');\n      const audioOutputSelect = document.querySelector('select#audioOutput');\n      const videoSelect = document.querySelector('select#videoSource');\n      const selectors = [audioInputSelect, audioOutputSelect, videoSelect];\n\n      audioOutputSelect.disabled = !('sinkId' in HTMLMediaElement.prototype);\n\n      function gotDevices(deviceInfos) {\n        // Handles being called several times to update labels. Preserve values.\n        const values = selectors.map(select => select.value);\n        selectors.forEach(select => {\n          while (select.firstChild) {\n            select.removeChild(select.firstChild);\n          }\n        });\n        for (let i = 0; i !== deviceInfos.length; ++i) {\n          const deviceInfo = deviceInfos[i];\n          const option = document.createElement('option');\n          option.value = deviceInfo.deviceId;\n          if (deviceInfo.kind === 'audioinput') {\n            option.text = deviceInfo.label || `microphone ${audioInputSelect.length + 1}`;\n            audioInputSelect.appendChild(option);\n          } else if (deviceInfo.kind === 'audiooutput') {\n            option.text = deviceInfo.label || `speaker ${audioOutputSelect.length + 1}`;\n            audioOutputSelect.appendChild(option);\n          } else if (deviceInfo.kind === 'videoinput') {\n            option.text = deviceInfo.label || `camera ${videoSelect.length + 1}`;\n            videoSelect.appendChild(option);\n          } else {\n            console.log('Some other kind of source/device: ', deviceInfo);\n          }\n        }\n        selectors.forEach((select, selectorIndex) => {\n          if (Array.prototype.slice.call(select.childNodes).some(n => n.value === values[selectorIndex])) {\n            select.value = values[selectorIndex];\n          }\n        });\n      }\n\n      navigator.mediaDevices.enumerateDevices().then(gotDevices).catch(handleError);\n\n      // Attach audio output device to video element using device/sink ID.\n      function attachSinkId(element, sinkId) {\n        if (typeof element.sinkId !== 'undefined') {\n          element.setSinkId(sinkId)\n              .then(() => {\n                console.log(`Success, audio output device attached: ${sinkId}`);\n              })\n              .catch(error => {\n                let errorMessage = error;\n                if (error.name === 'SecurityError') {\n                  errorMessage = `You need to use HTTPS for selecting audio output device: ${error}`;\n                }\n                console.error(errorMessage);\n                // Jump back to first output device in the list as it's the default.\n                audioOutputSelect.selectedIndex = 0;\n              });\n        } else {\n          console.warn('Browser does not support output device selection.');\n        }\n      }\n\n      function changeAudioDestination() {\n        const audioDestination = audioOutputSelect.value;\n        attachSinkId(videoElement, audioDestination);\n      }\n\n      function gotStream(stream) {\n        window.stream = stream; // make stream available to console\n        videoElement.srcObject = stream;\n        // Refresh button list in case labels have become available\n        return navigator.mediaDevices.enumerateDevices();\n      }\n\n      function handleError(error) {\n        console.log('navigator.MediaDevices.getUserMedia error: ', error.message, error.name);\n      }\n\n      function start() {\n        if (window.stream) {\n          window.stream.getTracks().forEach(track => {\n            track.stop();\n          });\n        }\n        const audioSource = audioInputSelect.value;\n        const videoSource = videoSelect.value;\n        const constraints = {\n          audio: {deviceId: audioSource ? {exact: audioSource} : undefined},\n          video: {deviceId: videoSource ? {exact: videoSource} : undefined}\n        };\n        navigator.mediaDevices.getUserMedia(constraints).then(gotStream).then(gotDevices).catch(handleError);\n      }\n\n      audioInputSelect.onchange = start;\n      audioOutputSelect.onchange = changeAudioDestination;\n\n      videoSelect.onchange = start;\n\n      start();\n    }\n    onMounted(() => {\n      facingMode();\n    })\n\n  }\n}\n</script>\n\n<style>\n</style>","import { render } from \"./FacingMode.vue?vue&type=template&id=8dcd0002\"\nimport script from \"./FacingMode.vue?vue&type=script&lang=js\"\nexport * from \"./FacingMode.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}